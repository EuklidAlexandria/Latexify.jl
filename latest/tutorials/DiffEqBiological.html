<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Use with @reaction_network from DiffEqBiological.jl. · Latexify.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Latexify.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Latexify.jl</a></li><li><span class="toctext">Functions</span><ul><li><a class="toctext" href="latexify.html"><code>latexify</code></a></li><li><a class="toctext" href="latexinline.html"><code>latexinline</code></a></li><li><a class="toctext" href="latexalign.html"><code>latexalign</code></a></li><li><a class="toctext" href="latexarray.html"><code>latexarray</code></a></li><li><a class="toctext" href="latextabular.html"><code>latextabular</code></a></li></ul></li><li><span class="toctext">Use with other packages</span><ul><li><a class="toctext" href="parameterizedfunctions.html">Use with ParameterizedFunctions</a></li><li class="current"><a class="toctext" href="DiffEqBiological.html">Use with @reaction_network from DiffEqBiological.jl.</a><ul class="internal"><li><a class="toctext" href="#Chemical-arrow-notation-1">Chemical arrow notation</a></li></ul></li></ul></li><li><a class="toctext" href="inner_workings.html">Inner workings</a></li></ul></nav><article id="docs"><header><nav><ul><li>Use with other packages</li><li><a href="DiffEqBiological.html">Use with @reaction_network from DiffEqBiological.jl.</a></li></ul><a class="edit-page" href="https://github.com/korsbo/Latexify.jl/blob/master/docs/src/tutorials/DiffEqBiological.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Use with @reaction_network from DiffEqBiological.jl.</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Use-with-@reaction_network-from-DiffEqBiological.jl.-1" href="#Use-with-@reaction_network-from-DiffEqBiological.jl.-1">Use with @reaction_network from DiffEqBiological.jl.</a></h1><p>Latexify.jl has methods for dealing with AbstractReactionNetworks. For more information regarding this DSL, turn to its <a href="http://docs.juliadiffeq.org/latest/models/biological.html">docs</a>. The latexify end of things are pretty simple: feed a reaction network to the <code>latexify</code> or <code>latexalign</code> functions (they do the same thing in this case) and let them do their magic.</p><pre><code class="language-julia">using DiffEqBiological
using Latexify
copy_to_clipboard(true)

@reaction_func hill2(x, v, k) = v*x^2/(k^2 + x^2)

rn = @reaction_network MyRnType begin
  hill2(y, v_x, k_x), 0 --&gt; x
  p_y, 0 --&gt; y
  (d_x, d_y), (x, y) --&gt; 0
  (r_b, r_u), x ↔ y
end v_x k_x p_y d_x d_y r_b r_u

latexify(rn)</code></pre><p>\begin{align} \frac{dx}{dt} =&amp; - x \cdot d_{x} - x \cdot r_{b} + y \cdot r_{u} + \frac{y^{2} \cdot v_{x}}{k_{x}^{2} + y^{2}} \\
\frac{dy}{dt} =&amp; p_{y} + x \cdot r_{b} - y \cdot d_{y} - y \cdot r_{u} \\
\end{align}</p><p>The method has a keyword for choosing between outputting the ODE or the noise term. While it is not obvious from the latexify output, the noise in the reaction network is correlated.</p><pre><code class="language-julia">latexify(rn; noise=true)</code></pre><p>\begin{align} \frac{dx}{dt} =&amp; - \sqrt{x \cdot d_{x}} - \sqrt{x \cdot r_{b}} + \sqrt{y \cdot r_{u}} + \sqrt{\frac{y^{2} \cdot v_{x}}{k_{x}^{2} + y^{2}}} \\
\frac{dy}{dt} =&amp; \sqrt{p_{y}} + \sqrt{x \cdot r_{b}} - \sqrt{y \cdot d_{y}} - \sqrt{y \cdot r_{u}} \\
\end{align}</p><h3><a class="nav-anchor" id="Turning-off-the-SymEngine-magic-1" href="#Turning-off-the-SymEngine-magic-1">Turning off the SymEngine magic</a></h3><p>SymEngine will be used by default to clean up the expressions. A disadvantage of this is that the order of the terms and the operations within the terms becomes unpredictable. You can therefore turn this symbolic magic off. The result has some ugly issues with <span>$+ -1$</span>, but the option is there, and here is how to use it:  </p><pre><code class="language-julia">latexify(rn; symbolic=false)</code></pre><p>\begin{align} \frac{dx}{dt} =&amp; \frac{v_{x} \cdot y^{2}}{k_{x}^{2} + y^{2}} + -1 \cdot d_{x} \cdot x + -1 \cdot r_{b} \cdot x + r_{u} \cdot y \\
\frac{dy}{dt} =&amp; p_{y} + -1 \cdot d_{y} \cdot y + r_{b} \cdot x + -1 \cdot r_{u} \cdot y \\
\end{align}</p><pre><code class="language-julia">latexify(rn; noise=true, symbolic=false)</code></pre><p>\begin{align} \frac{dx}{dt} =&amp; \sqrt{\frac{v_{x} \cdot y^{2}}{k_{x}^{2} + y^{2}}} + - \sqrt{d_{x} \cdot x} + - \sqrt{r_{b} \cdot x} + \sqrt{r_{u} \cdot y} \\
\frac{dy}{dt} =&amp; \sqrt{p_{y}} + - \sqrt{d_{y} \cdot y} + \sqrt{r_{b} \cdot x} + - \sqrt{r_{u} \cdot y} \\
\end{align}</p><h2><a class="nav-anchor" id="Chemical-arrow-notation-1" href="#Chemical-arrow-notation-1">Chemical arrow notation</a></h2><p>DiffEqBiologicals reaction network is all about chemical arrow notation, so why should we not be able to render arrows?</p><p>Use <code>latexify</code>&#39;s <code>env</code> keyword argument to specify that you want <code>:chemical</code> (or the equivalent <code>:arrow</code>, <code>:arrows</code> or <code>:chem</code>).</p><pre><code class="language-julia">latexify(rn; env=:chemical)</code></pre><p>\begin{align} \require{mhchem} \ce{ \varnothing &amp;-&gt;[\frac{v_{x} \cdot y^{2}}{k_{x}^{2} + y^{2}}] x}\\
\ce{ \varnothing &amp;-&gt;[p_{y}] y}\\
\ce{ x &amp;-&gt;[d_{x}] \varnothing}\\
\ce{ y &amp;-&gt;[d_{y}] \varnothing}\\
\ce{ x &amp;&lt;=&gt;[{r_{b}}][{r_{u}}] y}\\
\end{align}</p><p>The default output is meant to be rendered directly on the screen. This rendering is typically done by MathJax. To get the chemical arrow notation to render automatically, I have included a MathJax command (<code>\require{mhchem}</code>) in the output string. If you want to use the output in a real LaTeX document, you can pass the keyword argument <code>mathjax=false</code> and this extra command will be omitted. In such case you should also add <code>\usepackage{mhchem}</code> to the preamble of your latex document.</p><p>Another keyword argument that may be of use is <code>expand=false</code> (defaults to <code>true</code>). This determines whether your functions should be expanded or not. Also, <code>starred=true</code> will change the outputted latex environment from <code>align</code> to <code>align*</code>. This results in the equations not being numbered.</p><pre><code class="language-julia">latexify(rn; env=:chemical, expand=false, starred=true)</code></pre><div>\[\begin{align*}
\require{mhchem}
\ce{ \varnothing &amp;-&gt;[\mathrm{hill2}\left( y, v_{x}, k_{x} \right)] x}\\
\ce{ \varnothing &amp;-&gt;[p_{y}] y}\\
\ce{ x &amp;-&gt;[d_{x}] \varnothing}\\
\ce{ y &amp;-&gt;[d_{y}] \varnothing}\\
\ce{ x &amp;&lt;=&gt;[{r_{b}}][{r_{u}}] y}\\
\end{align*}\]</div><footer><hr/><a class="previous" href="parameterizedfunctions.html"><span class="direction">Previous</span><span class="title">Use with ParameterizedFunctions</span></a><a class="next" href="inner_workings.html"><span class="direction">Next</span><span class="title">Inner workings</span></a></footer></article></body></html>
